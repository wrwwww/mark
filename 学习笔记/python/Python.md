## ç›¸å…³é“¾æ¥

[ä¸‹è½½åœ°å€](https://www.python.org/downloads/windows/)[ğŸ“python-3.12.3-amd64.exe.zip](https://www.yuque.com/attachments/yuque/0/2024/zip/23135285/1713417207923-36acddbb-4129-4a7d-9b39-b547b711137a.zip)

## pip æ¢æº

```
# pipè®¾ç½®ä»“åº“åœ°å€ä¸ºæ¸…åæº
pip config set global.index-url  https://pypi.tuna.tsinghua.edu.cn/simple 
```

pythonä¸­å¼€å¯ç«¯å£ç›‘å¬

python -m http.server ç«¯å£å·
## pip

```shell
# æ›´æ–°pip
python -m pip install --upgrade pip
 pip install -r ./requirements.txt
```

### å®‰è£…pythonåº“çš„æ–¹æ³•

> ä½¿ç”¨pip

```shell
# å®‰è£…æŒ‡å®šç‰ˆæœ¬
pip install urllib3=='3.0'
```

>ä½¿ç”¨æºä»£ç å®‰è£…

```shell
# ä¸‹è½½æºä»£ç ,æºä»£ç ä¸­æœ‰setup.pyçš„æ–‡ä»¶
python setup.py install
```



## ç›¸å…³é“¾æ¥

> anaconda

**[anaconda](https://www.anaconda.com/download)æ˜¯ä¸€ä¸ªä¸ºäº†æ–¹ä¾¿ä½¿ç”¨Pythonè¿›è¡Œæ•°æ®ç§‘å­¦ç ”ç©¶è€Œå»ºç«‹çš„è½¯ä»¶åŒ…**ã€‚å®ƒåŒ…å«äº†æ•°æ®ç§‘å­¦é¢†åŸŸå¸¸è§çš„Pythonåº“ï¼Œå¹¶ä¸”è‡ªå¸¦äº†ä¸“é—¨ç”¨æ¥è§£å†³è½¯ä»¶ç¯å¢ƒä¾èµ–é—®é¢˜çš„condaåŒ…ç®¡ç†ç³»ç»Ÿã€‚ä¸»è¦æä¾›åŒ…ç®¡ç†ä¸ç¯å¢ƒç®¡ç†çš„åŠŸèƒ½ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è§£å†³å¤šç‰ˆæœ¬pythonå¹¶å­˜ã€åˆ‡æ¢ä»¥åŠå„ç§ç¬¬ä¸‰æ–¹åŒ…å®‰è£…é—®é¢˜ã€‚

> é˜¿é‡Œäº‘é•œåƒ

[é˜¿é‡Œé•œåƒåœ°å€](https://developer.aliyun.com/mirror/pypi?spm=a2c6h.13651102.0.0.3e221b110CUzi4)

```shell
# pipè®¾ç½®ä»“åº“åœ°å€ä¸ºæ¸…åæº
pip config set global.index-url  https://pypi.tuna.tsinghua.edu.cn/simple 
```

> æ— æ¡†æ¶çˆ¬å‰ç¨‹æ— å¿§

[xpath](https://zhuanlan.zhihu.com/p/547187505)

>æµè§ˆå™¨é©±åŠ¨

è®°å¾—é€‰æ‹©ä¸æµè§ˆå™¨ç‰ˆæœ¬æƒ³ç¬¦åˆçš„é©±åŠ¨ç‰ˆæœ¬

[chrome driver](https://chromedriver.chromium.org/downloads)

[edge driver](https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/)

## anaconda

å®‰è£…æŒ‡å®šçš„pythonåº“

```python
# æœç´¢ jiebaåº“
conda search jieba 
# å·²ç»å®‰è£…çš„åº“
conda list 
# åˆ›å»ºæ–°çš„pythonç¯å¢ƒ
conda create --name py35 python=3.5
# åˆ‡æ¢ç¯å¢ƒ
activate py35
# å…³é—­anaconda pyç¯å¢ƒ
deactivate py35
# åˆ é™¤ç¯å¢ƒ
conda remove --name py35 --all
# å®‰è£…æŒ‡å®šè¯¾
conda install -n py35 numpy
# åˆ é™¤æŒ‡å®šç¯å¢ƒçš„æŒ‡å®šåŒ…
conda remove -n py35 numpy
```

## Scrapyæ¡†æ¶

### å®‰è£…

```shell
pip install scrapy
```

###ç›¸å…³é“¾æ¥

[ä¸­æ–‡æ–‡æ¡£](https://scrapy-chs.readthedocs.io/zh-cn/0.24/topics/architecture.html)

### scrapyæ¶æ„

Scrapy æ˜¯ä¸€ä¸ªåŸºäº Python çš„å¼€æºç½‘ç»œçˆ¬è™«æ¡†æ¶ï¼Œè®¾è®¡ç”¨äºå¿«é€Ÿã€é«˜æ•ˆåœ°æå–ç½‘ç«™æ•°æ®ã€‚ä¸‹é¢æ˜¯ Scrapy çš„ä¸»è¦ç»„ä»¶å’Œæ¶æ„è¯´æ˜ï¼š

1. **Spiderï¼ˆèœ˜è››ï¼‰ï¼š**
   - Spider æ˜¯ Scrapy ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼Œç”¨äºå®šä¹‰çˆ¬å–ç½‘ç«™çš„è§„åˆ™å’Œé€»è¾‘ã€‚æ¯ä¸ª Spider éƒ½åŒ…å«äº†èµ·å§‹ URLã€å¦‚ä½•è·Ÿè¿›é“¾æ¥ã€å¦‚ä½•æå–æ•°æ®ç­‰è§„åˆ™ã€‚
   - å¼€å‘è€…éœ€è¦ç»§æ‰¿ `scrapy.Spider` ç±»ï¼Œå¹¶å®ç° `start_requests` æ–¹æ³•å’Œ/æˆ– `parse` æ–¹æ³•ã€‚

2. **Requestï¼ˆè¯·æ±‚ï¼‰ï¼š**
   - Request å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªè¦å‘é€çš„ HTTP è¯·æ±‚ã€‚å®ƒåŒ…å«äº† URLã€å›è°ƒå‡½æ•°ã€HTTP æ–¹æ³•ç­‰ä¿¡æ¯ã€‚
   - åœ¨ Spider çš„ `start_requests` æ–¹æ³•ä¸­åˆ›å»ºèµ·å§‹è¯·æ±‚ï¼Œå¹¶é€šè¿‡å›è°ƒå‡½æ•°å¤„ç†å“åº”ã€‚

3. **Downloaderï¼ˆä¸‹è½½å™¨ï¼‰ï¼š**
   - ä¸‹è½½å™¨è´Ÿè´£ä»ç½‘ç»œä¸­ä¸‹è½½ HTML é¡µé¢ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ Spider è¿›è¡Œè§£æã€‚
   - Scrapy é»˜è®¤ä½¿ç”¨ Twisted æ¡†æ¶æä¾›çš„å¼‚æ­¥ç½‘ç»œåº“æ¥å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œä»¥æé«˜çˆ¬è™«çš„æ•ˆç‡ã€‚

4. **Itemï¼ˆæ•°æ®é¡¹ï¼‰ï¼š**
   - Item æ˜¯è¡¨ç¤ºçˆ¬å–åˆ°çš„æ•°æ®çš„ç®€å•å®¹å™¨ï¼Œç±»ä¼¼äºå­—å…¸ã€‚æ¯ä¸ª Spider å¯ä»¥ç”Ÿæˆå¤šä¸ª Itemã€‚
   - å¼€å‘è€…éœ€è¦å®šä¹‰ Item ç±»å‹ï¼Œä»¥æè¿°çˆ¬å–åˆ°çš„æ•°æ®ç»“æ„ã€‚

5. **Item Pipelineï¼ˆæ•°æ®ç®¡é“ï¼‰ï¼š**
   - Item Pipeline è´Ÿè´£å¤„ç† Spider æå–çš„ Itemï¼Œå¹¶è¿›è¡Œåç»­çš„å¤„ç†ï¼Œä¾‹å¦‚æ•°æ®æ¸…æ´—ã€å­˜å‚¨åˆ°æ•°æ®åº“æˆ–æ–‡ä»¶ç­‰ã€‚
   - Scrapy æä¾›äº†ä¸€äº›å†…ç½®çš„ Item Pipelineï¼Œå¼€å‘è€…ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ Item Pipelineã€‚

6. **Middlewareï¼ˆä¸­é—´ä»¶ï¼‰ï¼š**
   - ä¸­é—´ä»¶æ˜¯åœ¨è¯·æ±‚è¢«å‘é€åˆ°ä¸‹è½½å™¨ä¹‹å‰æˆ–å“åº”è¢« Spider å¤„ç†ä¹‹å‰è¿›è¡Œå¤„ç†çš„ç»„ä»¶ã€‚
   - Scrapy æä¾›äº†ä¸€ç³»åˆ—å†…ç½®çš„ä¸­é—´ä»¶ï¼Œç”¨äºå¤„ç† Cookiesã€User-Agentã€é‡å®šå‘ç­‰ã€‚

7. **Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰ï¼š**
   - è°ƒåº¦å™¨è´Ÿè´£ç®¡ç† Spider å‘é€çš„è¯·æ±‚ï¼Œç¡®ä¿æŒ‰ç…§ä¼˜å…ˆçº§å’Œé¡ºåºå‘é€ç»™ä¸‹è½½å™¨ã€‚
   - Scrapy ä½¿ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨è¯·æ±‚ï¼Œå¹¶æ ¹æ®é˜Ÿåˆ—çš„ä¼˜å…ˆçº§å’Œæ·±åº¦è¿›è¡Œè°ƒåº¦ã€‚

8. **Engineï¼ˆå¼•æ“ï¼‰ï¼š**
   - å¼•æ“æ˜¯ Scrapy çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒè´Ÿè´£åè°ƒå„ä¸ªç»„ä»¶çš„å·¥ä½œï¼Œé©±åŠ¨æ•´ä¸ªçˆ¬å–æµç¨‹ã€‚
   - å¼•æ“æ¥æ”¶ Spider å‘æ¥çš„è¯·æ±‚ï¼Œå¹¶å°†å…¶å‘é€åˆ°è°ƒåº¦å™¨ã€ä¸‹è½½å™¨ã€Spider è¿›è¡Œå¤„ç†ã€‚

9. **Settingsï¼ˆè®¾ç½®ï¼‰ï¼š**
   - è®¾ç½®åŒ…å«äº† Scrapy çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚çˆ¬è™«çš„åå­—ã€ä¸‹è½½å»¶è¿Ÿã€å¹¶å‘è¯·æ±‚æ•°ç­‰ã€‚
   - å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æˆ–è€…ç¼–ç¨‹æ–¹å¼è®¾ç½®ã€‚

Scrapy çš„æ¶æ„æ˜¯åŸºäºç»„ä»¶åŒ–å’Œæ¨¡å—åŒ–çš„è®¾è®¡ï¼Œè¿™ä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æ‰©å±•å’Œå®šåˆ¶çˆ¬è™«çš„åŠŸèƒ½ã€‚é€šè¿‡ä¸Šè¿°ç»„ä»¶çš„åä½œï¼ŒScrapy æä¾›äº†ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„çˆ¬è™«æ¡†æ¶ï¼Œé€‚ç”¨äºå„ç§è§„æ¨¡çš„ç½‘ç«™çˆ¬å–ä»»åŠ¡ã€‚

### çˆ¬å–é¢‘ç‡çš„æ§åˆ¶

åœ¨ä½¿ç”¨Scrapyè¿›è¡Œçˆ¬å–æ—¶ï¼Œé€šå¸¸ä¸å»ºè®®ç›´æ¥ä½¿ç”¨`time.sleep()`æ¥æ§åˆ¶çˆ¬å–é¢‘ç‡ã€‚Scrapyæ¡†æ¶æœ¬èº«æä¾›äº†ä¸€äº›æœºåˆ¶æ¥æ§åˆ¶è¯·æ±‚çš„é¢‘ç‡ï¼Œä»¥åŠå¤„ç†ç½‘ç«™çš„åçˆ¬æœºåˆ¶ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›Scrapyä¸­ç”¨äºæ§åˆ¶çˆ¬å–é¢‘ç‡çš„æœºåˆ¶ï¼š

1. **DOWNLOAD_DELAYï¼š** åœ¨Scrapyçš„è®¾ç½®ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡`DOWNLOAD_DELAY`å‚æ•°è®¾ç½®ä¸‹è½½å»¶è¿Ÿï¼Œä»¥ç¡®ä¿è¯·æ±‚ä¹‹é—´æœ‰ä¸€å®šçš„æ—¶é—´é—´éš”ã€‚è¿™å¯ä»¥åœ¨`settings.py`æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼š

    ```python
    DOWNLOAD_DELAY = 2  # è®¾ç½®ä¸‹è½½å»¶è¿Ÿä¸º2ç§’
    ```

    è¿™æ ·å¯ä»¥å¸®åŠ©é™ä½å¯¹ç›®æ ‡ç½‘ç«™çš„è®¿é—®é¢‘ç‡ï¼Œå‡è½»å¯¹æœåŠ¡å™¨çš„å‹åŠ›ã€‚

2. **CONCURRENT_REQUESTS_PER_DOMAINå’ŒCONCURRENT_REQUESTS_PER_IPï¼š** è¿™ä¸¤ä¸ªè®¾ç½®å¯ä»¥æ§åˆ¶å¯¹æ¯ä¸ªåŸŸåå’ŒIPçš„å¹¶å‘è¯·æ±‚æ•°ã€‚é€šè¿‡é€‚å½“è°ƒæ•´è¿™äº›è®¾ç½®ï¼Œä½ å¯ä»¥æ§åˆ¶å¹¶å‘è¯·æ±‚çš„æ•°é‡ï¼Œé¿å…å¯¹æœåŠ¡å™¨é€ æˆè¿‡å¤§çš„è´Ÿæ‹…ã€‚

    ```python
    CONCURRENT_REQUESTS_PER_DOMAIN = 2
    CONCURRENT_REQUESTS_PER_IP = 1
    ```

3. **AUTOTHROTTLEï¼š** Scrapyè¿˜æä¾›äº†`AUTOTHROTTLE`æ‰©å±•ï¼Œå®ƒèƒ½å¤Ÿè‡ªåŠ¨è°ƒæ•´çˆ¬å–é€Ÿåº¦ï¼Œé¿å…å¯¹ç›®æ ‡ç½‘ç«™é€ æˆå¤ªå¤§çš„è´Ÿæ‹…ã€‚

    ```python
    AUTOTHROTTLE_ENABLED = True
    AUTOTHROTTLE_START_DELAY = 5.0
    AUTOTHROTTLE_MAX_DELAY = 60.0
    ```

    ä¸Šè¿°è®¾ç½®å¯ç”¨äº†è‡ªåŠ¨é™é€Ÿï¼Œå¹¶è®¾ç½®äº†åˆå§‹å»¶è¿Ÿå’Œæœ€å¤§å»¶è¿Ÿã€‚

æ€»ä½“æ¥è¯´ï¼Œé€šè¿‡åˆç†åœ°è®¾ç½®ä¸Šè¿°å‚æ•°ï¼Œä½ å¯ä»¥åœ¨ä¸ä½¿ç”¨`time.sleep()`çš„æƒ…å†µä¸‹æœ‰æ•ˆåœ°æ§åˆ¶çˆ¬å–é¢‘ç‡ã€‚ç›´æ¥ä½¿ç”¨`time.sleep()`å¯èƒ½å¯¼è‡´çˆ¬è™«æ•ˆç‡ä½ä¸‹ï¼Œå¹¶ä¸”ä¸å¤Ÿçµæ´»ï¼Œå› ä¸ºå®ƒæ— æ³•æ ¹æ®å®é™…æƒ…å†µè‡ªåŠ¨è°ƒæ•´ç­‰å¾…æ—¶é—´ã€‚

### è‡ªå®šä¹‰ Item Pipelineæ¥å­˜å‚¨æ•°æ®

> Item Pipelineè´Ÿè´£å¯¹itemè¿›è¡Œå¤„ç†æ¸…æ´—ä¿å­˜

#### å°†çˆ¬å–åˆ°çš„itemä¿å­˜åˆ°csvä¸­

```shell
pip install pandas
```

#### è‡ªå®šä¹‰item Pipeline

åœ¨pipelines.pyä¸­æ·»åŠ è‡ªå®šä¹‰pipline

```python
import csv
import pandas as pd

class CsvExportPipeline:
    def __init__(self):
        self.items = []

    def process_item(self, item, spider):
        self.items.append(item)
        return item

    def close_spider(self, spider):
        df = pd.DataFrame(self.items)
        df.to_csv('output_data.csv', index=False)
```

åœ¨setting.pyä¸­å¯ç”¨item pipeline 

```python
ITEM_PIPELINES = {
    # "ctbw.pipelines.CtbwPipeline": 300,
    "ctbw.pipelines.CsvExportPipeline": 300,
}
```

### å¸¸ç”¨å‘½ä»¤

```shell
# ä½¿ç”¨æ¨¡ç‰ˆåˆ›å»ºä¸€ä¸ªçˆ¬è™«é¡¹ç›®
scrapy startproject xxx
# ä½¿ç”¨æ¨¡ç‰ˆåˆ›å»ºçˆ¬è™«æ–‡ä»¶
scrapy genspider ccc www.baidu.com
# è¿è¡Œçˆ¬è™«æ–‡ä»¶
scrapy runspider 
# æ‰“å¼€shell è°ƒè¯•
scrapy shell
# ä¸‹è½½ç»™å®šçš„urlç½‘é¡µå¹¶åœ¨ç»ˆç«¯è¾“å‡º
scrapy fetch
# å¯åŠ¨æµè§ˆå™¨å¹¶æŸ¥çœ‹urlå†…å®¹
scrapy view
# å¯åŠ¨æŒ‡å®šçˆ¬è™«é¡¹ç›®
scrapy crawl é¡¹ç›®åç§°
# åˆ—å‡ºæ‰€æœ‰çˆ¬è™«é¡¹ç›®åˆ—è¡¨
scrapy list

```



## Xpath

### æµè§ˆå™¨æ§åˆ¶å°ä¸­çš„xpath

```JavaScript
$('')
```

### è¯­æ³•ç»“æ„

```javascript
// è·å–å½“å‰èŠ‚ç‚¹ä¸‹æœ‰classåä¸ºvalueçš„divæ ‡ç­¾
$("//div[@class='value']")
```

### é€‰æ‹©å™¨

[é€‰æ‹©å™¨æ–¹æ³•](https://learnku.com/articles/50459)

> æ™®é€šçš„é€‰æ‹©

```python
$("//div[@class='value']")
```

> ä½¿ç”¨Contains()å‡½æ•°

```javascript
// <div type='submit'></div> ä¼šæ‰¾åˆ°åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„æ ‡ç­¾
$("//*[contains(@type,'sub')]")
```

> ä½¿ç”¨or å’Œ and çš„è¡¨è¾¾å¼

```javascript
// or å’Œ and çš„è¡¨è¾¾å¼
$("//*[@type='submit' or @name='btnReset']")
```

> Starts-with æ ‡ç­¾çš„å±æ€§å¯èƒ½æ˜¯åŠ¨æ€å˜åŒ–çš„,å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰æ‹©å™¨å»é€‰æ‹©é‚£äº›åˆå§‹å†…å®¹æ˜¯å›ºå®šçš„,å¯èƒ½ä¼šè¢«jsæ”¹å˜å±æ€§å†…å®¹çš„æ ‡ç­¾

```JavaScript
// é€‰æ‹©åˆå§‹idä¸ºmessageçš„labelæ ‡ç­¾,messageå˜ä¸ºmessage1ä¹Ÿä¼šè¢«é€‰æ‹©
$("//label[starts-with(@id, 'message')]")
```

> ä½¿ç”¨text()åŒ¹é…

```javascript
// åŒ¹é…èŠ‚ç‚¹æ–‡æœ¬å†…å®¹
$("//td[text()='UserID']")
```

> follow é€‰æ‹©è·Ÿéšåœ¨æŸä¸ªèŠ‚ç‚¹åçš„èŠ‚ç‚¹

```javascript
// type='text'è¿™ä¸ªèŠ‚ç‚¹åé¢çš„inputæ ‡ç­¾,æ˜¯å¤šä¸ª,è€Œä¸æ˜¯åªæ˜¯åä¸€ä¸ª
$("//*[@type='text']//following::input")
```

|                   |                                                              |                              |
| ----------------- | ------------------------------------------------------------ | ---------------------------- |
| /                 | 25                                                           | å·¥ç¨‹å¸ˆ                       |
| //                | 30                                                           | è®¾è®¡å¸ˆ                       |
| .                 | é€‰å–å½“å‰èŠ‚ç‚¹                                                 | æ•°æ®åˆ†æå¸ˆ                   |
| ..                | é€‰å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹                                         |                              |
| @                 | é€‰æ‹©å±æ€§                                                     | $("//div[@class='value']")   |
| è°“è¯­ï¼ˆPredicates) | é€‰æ‹©ç¬¬ä¸€ä¸ªstudnet                                            | /class/student[1]            |
|                   | é€‰æ‹©æœ€åä¸€ä¸ªstudent                                          | /class/student[last()]       |
|                   | é€‰æ‹©å€’æ•°ç¬¬äºŒä¸ª                                               | /class/student[last()-1]     |
|                   | é€‰æ‹©å‰ä¸¤ä¸ª                                                   | /class/student[position()<3] |
|                   | é€‰æ‹©æœ‰genderå±æ€§çš„                                           | /class/student[@gender]      |
|                   | é€‰æ‹©idå°äº50çš„                                               | student[ID<50]               |
| é€šé…ç¬¦            | 1. *   åŒ¹é…ä»»ä½•å…ƒç´ èŠ‚ç‚¹     2. @*   åŒ¹é…ä»»ä½•å±æ€§èŠ‚ç‚¹     3. node()        åŒ¹é…ä»»ä½•ç±»å‹çš„èŠ‚ç‚¹ |                              |
| string(.)         | å¯ä»¥è·å–å½“å‰èŠ‚ç‚¹ä»¥åŠå­èŠ‚ç‚¹çš„æ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹                   |                              |

è¡¥å……ï¼š

//input[not(@id='123')] ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ‰¾idä¸ä¸º123çš„input

//span[substring(@name,3,5)='xxxxx'] ã€€ã€€ã€€ã€€ã€€ã€€ã€€nameå±æ€§ç¬¬3ä¸ªå­—ç¬¦å¼€å§‹çš„5ä¸ªå­—ç¬¦æ˜¯xxxxxçš„

//span[sbustring-before(@class,"-")="spanclass1"]ã€€ã€€classå±æ€§ä¸­-å­—ç¬¦å‰é¢çš„å­—ç¬¦æ˜¯spanclass1

//span[sbustring-after(@class,"-")="spanclass1"]ã€€ã€€ã€€classå±æ€§ä¸­-å­—ç¬¦åé¢çš„å­—ç¬¦æ˜¯spanclass1

//div[div[@id='xxx']]ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¾é å­èŠ‚ç‚¹å®šä½


# opencv

## å®˜ç½‘

[å®˜ç½‘](https://opencv.org/releases/)

## numpy

### ç›¸å…³é“¾æ¥

å¿«é€Ÿå¼•å¯¼

[numpy.org](https://numpy.org/doc/stable/user/quickstart.html)

### çŸ©é˜µåˆ›å»º

```python
# å¯¼å…¥numpy
import numpy as np
```

#### åˆ›å»ºå¤šç»´çŸ©é˜µ

```python
# äºŒç»´çŸ©é˜µçš„åˆ›å»º
np.arange(15).reshape(3,5)

# è¾“å‡º
array([[ 0,  1,  2,  3,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14]])

# ä¸‰ç»´çŸ©é˜µçš„åˆ›å»º
np.arange(12).reshape(4,3,1)

array([[[ 0],
        [ 1],
        [ 2]],

       [[ 3],
        [ 4],
        [ 5]],

       [[ 6],
        [ 7],
        [ 8]],
	
       [[ 9],
        [10],
        [11]]])
```

#### åˆ›å»ºæŒ‡å®šæ•°æ®ç±»å‹çš„çŸ©é˜µ

```python
# å¤æ•°ç±»å‹
c = np.array([[1, 2], [3, 4]], dtype=complex)
c
array([[1.+0.j, 2.+0.j],
       [3.+0.j, 4.+0.j]])
# ç”¨æŒ‡å®šå€¼åˆå§‹åŒ–çŸ©é˜µ
np.zeros((3, 4))
array([[0., 0., 0., 0.],
       [0., 0., 0., 0.],
       [0., 0., 0., 0.]])
# ç”¨1
np.ones((2, 3, 4), dtype=np.int16)
array([[[1, 1, 1, 1],
        [1, 1, 1, 1],
        [1, 1, 1, 1]],

       [[1, 1, 1, 1],
        [1, 1, 1, 1],
        [1, 1, 1, 1]]], dtype=int16)
# 
np.empty((2, 3)) 
array([[3.73603959e-262, 6.02658058e-154, 6.55490914e-260],  # may vary
       [5.30498948e-313, 3.14673309e-307, 1.00000000e+000]])
```

#### æŒ‡å®šèŒƒå›´å’Œæ•°é‡çš„æµ®ç‚¹æ•°

```python
# 0~2 åˆ†9ä¸ªæ•°å­—
np.linspace(0, 2, 9)                   # 9 numbers from 0 to 2
array([0.  , 0.25, 0.5 , 0.75, 1.  , 1.25, 1.5 , 1.75, 2.  ])
```

### çŸ©é˜µæ“ä½œ

```py
# åŒç±»å‹çŸ©é˜µå‡æ³•
a = np.array([20, 30, 40, 50])
b = np.arange(4)
b
array([0, 1, 2, 3])
c = a - b
c
array([20, 29, 38, 47])
# å¸ƒå°”å€¼çŸ©é˜µ
a < 35
array([0.85090352])

## çŸ©é˜µä¹˜æ³•
A @ B  
A.dot(B)
```













